def login_mks_cluster(cluster):
    kubeconfig = f"/tmp/kubeconfig_{cluster}"
    env = os.environ.copy()
    env["KUBECONFIG"] = kubeconfig

    command = [
        "/ms/dist/cloud/PROJ/unimatrix/prod/bin/unimatrix",
        "login", cluster
    ]
    print(f"Logging into {cluster} with {kubeconfig}")
    login_output = subprocess.run(command, env=env, capture_output=True, text=True)

    if "MKS login completed" in login_output.stdout:
        return True
    else:
        print(f"Login failed for {cluster}: {login_output.stdout}")
        return False
